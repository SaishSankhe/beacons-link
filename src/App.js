import './App.css';
import Home from './components/Home';
import { BrowserRouter as Router, Route } from 'react-router-dom';
import React, { useState, useEffect } from 'react';

function App() {
	const [isHidden, setHidden] = useState(true);

	const hidePreview = () => {
		const previewElement = document.getElementById('preview');
		const previewBtn = document.getElementById('preview-btn');

		if (window.innerWidth <= 450 && isHidden) {
			previewElement.style.display = 'none';
			previewBtn.innerHTML = 'Preview';
		} else {
			previewElement.style.display = 'block';
			previewBtn.innerHTML = 'Close preview';
		}
	};

	window.onresize = resize;
	function resize() {
		if (window.innerWidth >= 450) {
			setHidden(false);
		} else {
			setHidden(true);
		}
	}

	useEffect(() => {
		hidePreview();
		// eslint-disable-next-line
	}, [isHidden]);

	return (
		<Router>
			<div className="App">
				<header className="App-header">
					<div className="headerContent">
						<h1>
							<svg viewBox="0 0 348 97" fill="#19647e" height="45">
								<path d="M36.5723 47.1682C49.5975 47.1682 60.1565 36.6092 60.1565 23.584C60.1565 10.559 49.5975 0 36.5723 0C23.5472 0 12.9883 10.559 12.9883 23.584C12.9883 36.6092 23.5472 47.1682 36.5723 47.1682Z"></path>
								<path d="M78.9555 32.1292C85.4995 32.1292 90.8045 26.8243 90.8045 20.2802C90.8045 13.7361 85.4995 8.43115 78.9555 8.43115C72.4114 8.43115 67.1064 13.7361 67.1064 20.2802C67.1064 26.8243 72.4114 32.1292 78.9555 32.1292Z"></path>
								<path d="M11.849 67.1062C18.393 67.1062 23.698 61.8013 23.698 55.2572C23.698 48.7132 18.393 43.4082 11.849 43.4082C5.30499 43.4082 0 48.7132 0 55.2572C0 61.8013 5.30499 67.1062 11.849 67.1062Z"></path>
								<path d="M75.9933 87.7282C89.5847 87.7282 100.603 76.7102 100.603 63.1188C100.603 49.5273 89.5847 38.5093 75.9933 38.5093C62.4019 38.5093 51.3838 49.5273 51.3838 63.1188C51.3838 76.7102 62.4019 87.7282 75.9933 87.7282Z"></path>
								<path d="M33.9521 96.2734C42.1321 96.2734 48.7634 89.6421 48.7634 81.4621C48.7634 73.282 42.1321 66.6509 33.9521 66.6509C25.772 66.6509 19.1409 73.282 19.1409 81.4621C19.1409 89.6421 25.772 96.2734 33.9521 96.2734Z"></path>
								<path d="M149.753 47.4925C154.308 48.7074 157.347 51.7449 157.347 57.3502C157.347 63.8947 153.204 68.3127 145.335 68.3127H129.346V28.7437H141.883C149.946 28.7437 154.501 32.9408 154.501 39.4576C154.501 43.0472 152.901 45.9737 149.753 47.4925ZM141.938 34.7919H136.277V45.2846H142.49C146.024 45.2846 147.875 42.9099 147.875 39.9279C147.875 37.0007 145.859 34.7919 141.938 34.7919ZM144.036 62.1274C148.509 62.1274 150.415 59.5041 150.415 56.5772C150.415 53.5398 148.483 50.889 143.815 50.889H136.277V62.1274H144.036ZM189.958 53.8712L189.849 55.5832H168.751C169.028 60.802 172.452 63.3424 176.538 63.3424C179.549 63.3424 181.951 61.8513 183.166 59.1728L189.461 60.1945C187.556 65.662 182.641 68.8649 176.594 68.8649C167.841 68.8649 161.987 63.5082 161.987 54.3406C161.987 45.1453 168.006 39.7607 176.373 39.7607C184.16 39.7607 189.903 44.2342 189.958 53.8712ZM176.399 44.7313C172.533 44.7313 169.772 46.6918 168.971 50.9718H183.109C182.722 46.8299 180.043 44.7313 176.399 44.7313ZM218.537 60.4708C218.537 64.3644 218.868 66.3246 219.254 67.5674V68.313H212.711L212.048 65.165C209.921 67.7606 206.359 68.8652 203.073 68.8652C198.628 68.8652 194.458 66.7942 194.458 61.106C194.458 55.3349 198.683 53.3742 204.647 52.1318L209.314 51.1654C211.219 50.7512 211.937 50.0332 211.937 48.8183C211.937 45.6703 209.286 44.6764 206.773 44.6764C203.791 44.6764 201.471 45.919 200.974 49.205L194.845 48.0453C195.949 42.44 200.118 39.8164 207.133 39.8164C212.737 39.8164 218.536 41.6942 218.536 49.7848L218.537 60.4708ZM205.2 64.0881C209.507 64.0881 212.269 61.4095 212.269 55.1967L205.475 56.9363C202.797 57.5162 201.057 58.4275 201.057 60.6365C201.057 62.9837 202.908 64.0881 205.2 64.0881ZM239.108 68.8374C230.575 68.8374 224.446 63.0112 224.446 54.2853C224.446 45.5871 230.577 39.7882 239.108 39.7882C245.9 39.7882 251.064 43.3779 252.529 49.7289L246.149 50.5021C245.128 47.0228 242.505 45.2832 239.053 45.2832C234.524 45.2832 231.321 48.8729 231.321 54.285C231.321 59.7248 234.524 63.287 239.053 63.287C242.505 63.287 245.128 61.5473 246.149 58.0682L252.529 58.8413C251.064 65.22 245.763 68.8374 239.108 68.8374ZM271.305 68.8651C262.69 68.8651 256.367 63.3976 256.367 54.2852C256.367 45.2556 262.634 39.7881 271.305 39.7881C280.003 39.7881 286.244 45.2556 286.244 54.2852C286.244 63.3976 279.949 68.8651 271.305 68.8651ZM271.223 63.3148C275.999 63.3148 279.396 59.7525 279.396 54.2852C279.396 48.8729 275.999 45.2832 271.223 45.2832C266.584 45.2832 263.215 48.8729 263.215 54.2852C263.215 59.7525 266.584 63.3148 271.223 63.3148ZM308.114 39.7881C314.492 39.7881 318.275 43.2674 318.275 49.4802V68.3124H311.373V50.9715C311.373 46.9124 308.887 45.3936 306.016 45.3936C302.591 45.3936 299.582 47.2712 299.554 52.4625V68.3124H292.651V40.3403H299.554V43.5711C301.459 41.1688 304.442 39.7881 308.114 39.7881ZM336.003 68.8651C329.845 68.8651 325.124 66.297 324.157 61.0782L329.983 59.4213C330.756 62.5693 333.02 63.95 336.003 63.95C338.184 63.95 340.531 63.2045 340.503 60.664C340.449 57.5712 336.278 57.2402 331.805 55.7214C328.298 54.5617 324.874 52.8498 324.874 48.0451C324.874 42.3844 329.568 39.8163 335.478 39.8163C340.807 39.8163 345.281 41.9149 346.274 47.1889L340.891 48.4315C340.117 45.5872 338.018 44.5105 335.506 44.5105C333.297 44.5105 331.198 45.3665 331.198 47.4651C331.198 49.9779 334.456 50.5025 338.018 51.4415C342.354 52.6013 347.131 54.3409 347.131 60.2777C347.131 66.5458 341.856 68.8651 336.003 68.8651Z"></path>
							</svg>
						</h1>
					</div>
				</header>
				<button
					className="toggle-preview"
					id="preview-btn"
					onClick={() => {
						setHidden(!isHidden);
					}}
				>
					Preview
				</button>
				<div className="App-body">
					<Route exact path="/" component={Home} />
				</div>
			</div>
		</Router>
	);
}

export default App;
